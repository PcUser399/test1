<!DOCTYPE html>

<html lang="en">
  <head>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <title>Visit www.pixelrocket.store to learn how to become a frontend web developer</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="preconnect" href="https://fonts.gstatic.com"/>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&amp;display=swap" rel="stylesheet"/>
    <link href="https://api.fontshare.com/v2/css?f[]=clash-grotesk@400,300,500&amp;display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="css/styles.css"/>
    <link rel="icon" type="image/png" sizes="32x32" href="favicon.png"/>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js" defer="defer"></script>
  </head>
  <body class="antialiased bg-body text-body font-body">
    <div>
      <section x-data="{ mobileNavOpen: false }">
        <div class="container px-4 mx-auto headder">
          <div class="flex items-center justify-between pt-5 pb-2.5 -m-2" style="padding: 0 calc(2.5vh + 2.5vw); padding-top:calc(1vh + 1vw) ;padding-bottom: calc(1vh + 1vw);">
            <div class="w-auto p-2">
              <div class="flex flex-wrap items-center">
                <div class="w-auto"><a class="relative z-10 inline-block" href="index.html"><img src="images/logo.svg" style="width: calc(7.5vh + 7.5vw);"  alt=""/></a></div>
              </div>
            </div>
            <div class="w-auto p-2">
              <div class="flex flex-wrap items-center">
                <div class="w-auto hidden lg:block">
                  <ul class="flex items-center mr-12">
                    <li class="mr-12 text-white font-medium hover:text-opacity-90 tracking-tighter"><a href="pricing.html"></a></li>
                    <li class="mr-12 text-white font-medium hover:text-opacity-90 tracking-tighter"><a href="blog.html"></a></li>
                    <li class="text-white font-medium hover:text-opacity-90 tracking-tighter"><a href="contact.html"></a></li>
                  </ul>
                </div>
                <div class="w-auto hidden lg:block">
                  <div class="inline-block"><a class="inline-block px-8 py-4 text-white hover:text-black tracking-tighter hover:bg-green-400 border-2 border-white focus:border-green-400 focus:border-opacity-40 hover:border-green-400 focus:ring-4 focus:ring-green-400 focus:ring-opacity-40 rounded-full transition duration-300" href="about.html">About Us</a></div>
                </div>
                <div class="w-auto lg:hidden">
                  <button class="relative z-10 inline-block" x-on:click="mobileNavOpen = !mobileNavOpen">
                    <svg class="text-green-500" width="51" height="51" viewbox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <rect width="56" height="56" rx="28" fill="currentColor"></rect>
                      <path d="M37 32H19M37 24H19" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="employees-interference-main-section">

          <div class="upper-section" style="grid-template-columns: 2fr 1fr 1fr 1fr">
            <div class="employee-up-conatiner">

              <div class="img-container" id="lala">
              </div>
              <div class="right-side-employee">
                <div class="flex" style="gap: 15px;">
                    <div class="employee-name" id="Employee-name" style="color: aqua;"></div>
                    <div class="employee-name" id="Employee-LastName"></div>
                </div>
                <div class="Employee-Id">
                  Engineer at Hide Bank
                </div>
              </div>
            
            </div>

            <div class="customer-up-conatiner pad">

              <div class="upper-part">
                Salary : 
              </div>
              <div id="Employee-Salary"></div>
              <div class="upper-part" style="margin-top: 10px;display: flex;"><div style="color: rgb(204 255 0);">Branch :</div>&nbsp&nbsp<div id="Employee-Branch"></div></div>
            </div>

            <div class="customer-up-conatiner pad ">
              <div class="upper-part">
                Employee Id : 
              </div>
              <div style="font-size: calc(1.25vh + 1.25vw);margin-top: 7px;" id="Employee-Id"></div>
              <div class="upper-part" style="margin-top: 10px;display: flex;margin-top: 20px;"><div style="color: rgb(204 255 0);">Status :</div>&nbsp&nbsp<div id="Employee-Status"></div></div>
              
            </div>

            <div class="customer-up-conatiner pad">

              <div class="upper-part">
                Employee Adress : 
              </div>
              <div style="font-size: calc(1.25vh + 1.25vw);margin-top: 7px;" id="Employee-Adress"></div>
              <div class="upper-part" style="margin-top: 10px;display: flex;margin-top: 20px;"><div style="color: rgb(204 255 0);font-size: calc(1vh + 1vw);">Hire Date:</div>&nbsp<div id="Employee-HireDate"></div></div>
              
            </div>

            
          </div>

          <div class="Account-Display-Section">
            <label id="lbb"> Customer's Accounts </label>
            <div class="Account-direct-container">
              <div class="flex flex-wrap -m-3">
                <div class="w-full md:w-1/2 lg:w-1/4 p-3">
                  <div class="flex flex-wrap -m-3" id="section1">
                  

                    

                  </div>
                </div>
                <div class="w-full md:w-1/2 lg:w-1/4 p-3">
                  <div class="flex flex-wrap -m-3" id="section2">
                    
                    
                  </div>
                </div>
                <div class="w-full md:w-1/2 lg:w-1/4 p-3">
                  <div class="flex flex-wrap -m-3" id="section3">
                    
                    
                  </div>
                </div>
                <div class="w-full md:w-1/2 lg:w-1/4 p-3">
                  <div class="flex flex-wrap -m-3" id="section4">
                    
                    
                   
                  </div>
                </div>
            
              </div>
            </div>

           </div>

          <div class="add-Account" title="Add Account" onclick="window.location.href='register.html'">
            +
          </div>
        </div>
            
          
              
        </div>

      <section class="py-12">
        <div class="container px-4 mx-auto">
          <div class="relative pt-20 px-4 bg-gray-900 bg-opacity-20 overflow-hidden rounded-6xl">
            <div class="text-center md:max-w-xl mx-auto removed pb-20"><span class="inline-block mb-4 text-sm text-green-400 font-medium tracking-tighter">Hide Bank</span>
              <h2 class="font-heading mb-6 text-7xl text-white tracking-8xl">Hide&nbsp Bank &nbsp:&nbsp a&nbsp Bank&nbsp ment &nbspto&nbsp serve &nbspYou</h2><a class="mb-8 text-gray-300 relative z-10" href="https://www.pixelrocket.store">Contact The devaloper Team Via email if some details remain unclear</a><img class="absolute -bottom-24 right-0 z-0" src="template-assets/images/application-section/lines2.png" alt=""/>
            </div>
          </div>
        </div>
      </section>
      <section class="bg-gray-50 overflow-hidden">
        <div class="py-14 bg-black rounded-b-7xl"></div>
        <div class="py-24">
          <div class="container px-4 mx-auto">
            <div class="flex flex-wrap justify-center -m-8 mb-28">
              <div class="w-full md:w-1/2 lg:w-4/12 p-8">
                <div class="md:max-w-xs"><img class="mb-7" src="images/logo-dark.svg" alt=""/>
                  <p class="text-gray-400 font-medium">Global Bank is a strategic branding agency focused on brand creation, rebrands, and brand</p>
                </div>
              </div>
              <div class="w-full md:w-1/2 lg:w-2/12 p-8">
                <h3 class="mb-6 text-lg text-black font-medium">About</h3>
                <ul>
                  <li class="mb-2.5"><a class="inline-block text-lg font-medium text-gray-400 hover:text-black transition duration-300" href="#">Contact</a></li>
                  <li class="mb-2.5"><a class="inline-block text-lg font-medium text-gray-400 hover:text-black transition duration-300" href="#">Blog</a></li>
                  <li class="mb-2.5"><a class="inline-block text-lg font-medium text-gray-400 hover:text-black transition duration-300" href="#">Our Story</a></li>
                  <li><a class="inline-block text-lg font-medium text-gray-400 hover:text-black transition duration-300" href="#">Careers</a></li>
                </ul>
              </div>
              <div class="w-full md:w-1/2 lg:w-2/12 p-8">
                <h3 class="mb-6 text-lg text-black font-medium">Company</h3>
                <ul>
                  <li class="mb-2.5"><a class="inline-block text-lg font-medium text-gray-400 hover:text-black transition duration-300" href="#">Contact</a></li>
                  <li class="mb-2.5"><a class="inline-block text-lg font-medium text-gray-400 hover:text-black transition duration-300" href="#">Blog</a></li>
                  <li class="mb-2.5"><a class="inline-block text-lg font-medium text-gray-400 hover:text-black transition duration-300" href="#">Our Story</a></li>
                  <li><a class="inline-block text-lg font-medium text-gray-400 hover:text-black transition duration-300" href="#">Careers</a></li>
                </ul>
              </div>
              <div class="w-full md:w-1/2 lg:flex-1 p-8">
                <div class="flex flex-wrap -m-2">
                  <div class="w-full p-2"><a class="block py-5 px-8 bg-white rounded-full" href="#">
                      <div class="flex flex-wrap items-center -m-2">
                        <div class="w-auto p-2"><img src="template-assets/images/footers/twitter.svg" alt=""/></div>
                        <div class="flex-1 p-2">
                          <p class="text-black">Follow us on Twitter for updates</p>
                        </div>
                      </div></a></div>
                  <div class="w-full p-2"><a class="block py-5 px-8 bg-white rounded-full" href="#">
                      <div class="flex flex-wrap items-center -m-2">
                        <div class="w-auto p-2"><img src="template-assets/images/footers/instagram.svg" alt=""/></div>
                        <div class="flex-1 p-2">
                          <p class="text-black">Follow us on Instagram for updates</p>
                        </div>
                      </div></a></div>
                  <div class="w-full p-2"><a class="block py-5 px-8 bg-white rounded-full" href="#">
                      <div class="flex flex-wrap items-center -m-2">
                        <div class="w-auto p-2"><img src="template-assets/images/footers/tiktok.svg" alt=""/></div>
                        <div class="flex-1 p-2">
                          <p class="text-black">Follow us on TikTok for updates</p>
                        </div>
                      </div></a></div>
                </div>
              </div>
            </div>
            <div class="flex flex-wrap justify-between -m-2">
              <div class="w-auto p-2">
                <p class="inline-block text-sm font-medium text-black text-opacity-60">Â© 2023 Global Bank</p>
              </div>
              <div class="w-auto p-2">
                <div class="flex flex-wrap items-center -m-2 sm:-m-7">
                  <div class="w-auto p-2 sm:p-7"><a class="inline-block text-sm text-black text-opacity-60 hover:text-opacity-100 font-medium transition duration-300" href="#">Terms of Use</a></div>
                  <div class="w-auto p-2 sm:p-7"><a class="inline-block text-sm text-black text-opacity-60 hover:text-opacity-100 font-medium transition duration-300" href="#">Privacy Policy</a></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <script>
      let params = new URLSearchParams(window.location.search);
      let EnterInfo = JSON.parse(params.get("value")); // EnterInfo = [CustomerId,AccountNumber] both entered from login or sign in 
      console.log(EnterInfo);



      // const Tsp = document.getElementById('direct-transaction-container'); 
      // const Lsp = document.getElementById('direct-Loan-container'); 
      const ES = document.getElementById('Employee-Salary');
      const EI = document.getElementById('Employee-Id');
      const EN = document.getElementById('Employee-name');
      const ELN = document.getElementById('Employee-LastName');
      const EHD = document.getElementById('Employee-HireDate');
      const EBr = document.getElementById('Employee-Branch');
      const EA = document.getElementById('Employee-Adress');
      const EST = document.getElementById('Employee-Status');



      // load allEmployeeData and allAccount throu Customer Id and account Number enterd in log in or sign In
      const allEmployeeData = {'HireDate':'12/01/2025	','EmployeeId':'EMP0001','Name':'Mahdi','LastName':'Turki','Branch':'0012','Adress':'T/A','Salary':'25 000TDN','Status':'Active'}
      // cover IBAN by **** or make it ''
      const allAccounts = [
  // -------------------- 1) ACCOUNT 1 (unchanged data + loans group 1) --------------------
  {
    OpeningDate: "12/01/2025",
    customerId: "CUS0001",
    IBAN: "**** **** **** **** **10",
    balance: "150 000TND",
    branch: 1113,
    type: "Buisness Account",
    status: "Active",
    accountName: "Mahdi Turki",
    number: "ACC0001",
    note:'Finances are very important to me. I regularly plan my expensesand save for the future',
    img:'Acc0001',
    Loans: [
      {
        type: 'Buisness',
        startDate: '12/02/2025',
        endDate: '12/01/2030',
        amount: '20 000TDN',
        interestRate: '2.5%',
        id: 'L907',
        paidAmount: '12 000TDN',
        remainingBalance: '8 000TDN',
        status: 'Completed'
      },
      {
        type: 'Request-Buisness',
        startDate: '12/02/2025',
        endDate: '12/01/2030',
        amount: '20 000TDN',
        interestRate: '2.5%',
        id: 'R907',
        paidAmount: '12 000TDN',
        remainingBalance: '8 000TDN',
        status: 'Active'
      },
      {
        type: 'Student',
        startDate: '12/02/2026',
        endDate: '02/10/2032',
        amount: '30 000TDN',
        interestRate: '2.5%',
        id: 'L917',
        paidAmount: '12 000TDN',
        remainingBalance: '18 000TDN',
        status: 'Overdue'
      }
    ]
  },

  // -------------------- 2) ACCOUNT 2 + loans group 2 --------------------
  {
    OpeningDate: "03/04/2026",
    customerId: "CUS0032",
    IBAN: "**** **** **** **** **72",
    balance: "12 800TND",
    branch: 1108,
    type: "Savings Account",
    status: "Active",
    accountName: "Youssef Ben Ali",
    number: "ACC0032",
    note:"Finances are one of the most important things in life. I have to be careful not to spend too much and have enough money for everything\nI'm not very knowledgeable about finances, but I try to stay on top of my expenses and take advice from experts.<br>I don't like thinking about finances, but I know I have to take care of them. I try to take care of my savings and control my expenses.",
    img:'default',

    Loans: [
      {
        type: 'Request-Student',
        startDate: '05/01/2025',
        endDate: '05/11/2029',
        amount: '12 500TDN',
        interestRate: '3%',
        id: 'R120',
        paidAmount: '3 000TDN',
        remainingBalance: '9 500TDN',
        status: 'Pending'
      },
      {
        type: 'Request-Student',
        startDate: '01/07/2024',
        endDate: '01/07/2031',
        amount: '18 000TDN',
        interestRate: '2.8%',
        id: 'R221',
        paidAmount: '2 000TDN',
        remainingBalance: '16 000TDN',
        status: 'In Review'
      },
      {
        type: 'Request-car',
        startDate: '12/09/2020',
        endDate: '12/09/2030',
        amount: '25 000TDN',
        interestRate: '3.2%',
        id: 'R889',
        paidAmount: '7 500TDN',
        remainingBalance: '17 500TDN',
        status: 'Active'
      }
    ]
  },

  // -------------------- 3) ACCOUNT 3 + loans group 3 --------------------
  {
    OpeningDate: "25/09/2027",
    customerId: "CUS0120",
    IBAN: "**** **** **** **** **45",
    balance: "87 500TND",
    branch: 1121,
    type: "Student Account",
    status: "Frozen",
    accountName: "Anna Ashley",
    number: "ACC0002",
    note:"I'm convinced that investing in education and acquiring new skills is a key factor in building a stable financial future.\nManaging finances can be stressful.",
    img:'ACC0002',
    Loans: [
      {
        type: 'Buisness',
        startDate: '03/04/2028',
        endDate: '03/04/2035',
        amount: '60 000TDN',
        interestRate: '4%',
        id: 'L301',
        paidAmount: '15 000TDN',
        remainingBalance: '45 000TDN',
        status: 'Active'
      },
      {
        type: 'Buisness',
        startDate: '20/08/2026',
        endDate: '20/08/2033',
        amount: '80 000TDN',
        interestRate: '3.8%',
        id: 'L488',
        paidAmount: '20 000TDN',
        remainingBalance: '60 000TDN',
        status: 'Completed'
      },
      {
        type: 'Buisness',
        startDate: '17/02/2027',
        endDate: '17/02/2034',
        amount: '45 000TDN',
        interestRate: '3.5%',
        id: 'L512',
        paidAmount: '10 000TDN',
        remainingBalance: '35 000TDN',
        status: 'Overdue'
      }
    ]
  }
];




    

      //(Ltype,stD,enD,amount,ITR,id='',paidAmount='',RB='',status='',fc = ()=>{}) -
      //'Request','12/02/2025','12/01/2030','20 000TDN','2.5%','L907','1700TDN','51 000TDN','Active'
    
    // we get this variable from c++
    let pt = 'images/'+allEmployeeData.EmployeeId+'.png'
    console.log(pt)
    document.getElementById('lala').innerHTML=`<img src="${pt}" class="emp-img">`
    displayUpperInfo();
    sortAllAccountAccordingToFirstLoanRequestDate();
    displayAllAccount();
    console.log(allAccounts)

      

      function displayUpperInfo(){
        ES.innerText = allEmployeeData.Salary ;
        EI.innerText = allEmployeeData.EmployeeId ;
        EN.innerText = allEmployeeData.Name ;
        ELN.innerText = allEmployeeData.LastName ;
        EHD.innerText = allEmployeeData.HireDate ;
        EBr.innerText = allEmployeeData.Branch ;
        EA.innerText = allEmployeeData.Adress ;
        EST.innerText = allEmployeeData.Status ;
        

      }

      function compareDates(date1, date2) { // give -1 for the most recent date and 1 for the most old 0 if =
        const [day1,month1, year1] = date1.split('/').map(Number);
        const [day2 ,month2, year2] = date2.split('/').map(Number);
        const d1 = new Date(year1, month1 - 1, day1);
        const d2 = new Date(year2, month2 - 1, day2);

        if (d1 < d2) return -1; 
        if (d1 > d2) return 1;  
        return 0;               
      }

      function sortLoansForOneAccount(i){
        allAccounts[i].Loans.sort((a,b)=>{
          if(a.type == 'Request' && b.type != 'Request'){
            return -1 ;
          }
          else if (b.type == 'Request' && a.type != 'Request'){
            return 1 ;
          }
          else{
            return compareDates(a.startDate , b.startDate);

          }
        })
      }

      function verifyAccountExistence(AccId){

        return true ;//later modified when impliment c++ same one in log in !
      }




      function sortAllAccountAccordingToFirstLoanRequestDate(){
        allAccounts.forEach((el,ind)=>{
          sortLoansForOneAccount(ind)
        })
        allAccounts.sort((a,b)=>{
          if(a.Loans[0].type == 'Request' && b.Loans[0].type != 'Request'){
            return -1 ;
          }
          else if (b.Loans[0].type == 'Request' && a.Loans[0].type != 'Request'){
            return 1 ;
          }
          else{
            return compareDates(a.Loans[0].startDate , b.Loans[0].startDate);

          }
        })

      }
      function calculateNumberOfLoansRequests(loan){
        acc= 0 ;
        for(let l of loan){
          if (l.type == 'Request'){acc++}
        }
        return acc
      }

      function goToCustomerAccountAsAnEmployee(AccNb){// nots ure yet if we need CUSNb ?
        window.open('CustomerEmp.html?value=' + encodeURIComponent(JSON.stringify(AccNb)),"_self")
      }

      function displayAllAccount(){
        let htmlStr ;
        let nbOfRequests ;
        let spc ;
        let im ;
        allAccounts.forEach((el,ind)=>{
          nbOfRequests  = calculateNumberOfLoansRequests(el.Loans) ;
          spc = nbOfRequests>0? ' style="color: lightblue;"':'' ;
          im = el.img ;
          console.log(im)
          htmlStr = `
            <div class="w-full p-3 gbt" onclick="goToCustomerAccountAsAnEmployee('${el.number}')">
              <div class="px-6 py-8 border border-gray-800 rounded-5xl darkBk">
                <div class="flex flex-wrap items-center -m-3 mb-3">
                  <div class="w-auto p-3"><img src="images/${im}.png" alt=""/ style="height:50px;width:50px;border-radius:50px;"></div>
                  <div class="w-auto p-3">
                    <h2 class="text-2xl text-white">${el.accountName}</h2>
                    <p class="text-sm text-gray-300">@${(el.accountName).replaceAll(' ','')}</p>
                  </div>
                </div>
                <p class="mb-4 text-white">${(el.note).replaceAll(/\n/g, "<br><br>")}</p>
                <div class="flex flex-wrap items-center -m-2.5 mb-1.5">
                  <div class="w-auto p-2.5">
                    <p class="text-sm text-gray-300">Branch : ${el.branch}</p>
                  </div>
                  <div class="w-auto p-2.5">
                    <p class="text-sm text-gray-300">${el.OpeningDate}</p>
                  </div>
                </div>
                <div class="flex flex-wrap items-center -m-2.5">
                  <div class="flex flex-wrap items-center w-auto p-2.5">
                    <svg class="mr-2.5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16" fill="none">
                      <path d="M8.41398 13.8731C8.18732 13.9531 7.81398 13.9531 7.58732 13.8731C5.65398 13.2131 1.33398 10.4597 1.33398 5.79307C1.33398 3.73307 2.99398 2.06641 5.04065 2.06641C6.25398 2.06641 7.32732 2.65307 8.00065 3.55974C8.67398 2.65307 9.75398 2.06641 10.9607 2.06641C13.0073 2.06641 14.6673 3.73307 14.6673 5.79307C14.6673 10.4597 10.3473 13.2131 8.41398 13.8731Z" stroke="#9F9FA0" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                    <p class="text-sm text-gray-300" style="display: flex;">Status : &nbsp&nbsp <div class="status-${el.status}" style="font-size: 15px;">${el.status}</div></p>
                  </div>
                  <div class="flex flex-wrap items-center w-auto p-2.5">
                    <svg class="mr-2.5" width="14" height="14" viewbox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M13.247 8.07345C12.8137 10.7001 10.8604 12.7201 8.24702 13.2135C6.81369 13.4868 5.45368 13.2735 4.28035 12.7201C4.08701 12.6268 3.77367 12.5868 3.56701 12.6335C3.12701 12.7401 2.38703 12.9201 1.76037 13.0668C1.16037 13.2135 0.78704 12.8401 0.933706 12.2401L1.36702 10.4401C1.42035 10.2335 1.37368 9.91345 1.28035 9.72012C0.747012 8.60012 0.533693 7.30012 0.753693 5.93345C1.18036 3.30678 3.30037 1.18012 5.92703 0.746784C10.2604 0.0467841 13.9537 3.74012 13.247 8.07345Z" stroke="#9F9FA0" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                    <p class="text-sm text-gray-300"${spc}>${nbOfRequests} Loan Requests.</p>
                  </div>
                </div>
              </div>
            </div>
          `;
          document.getElementById('section'+((ind%4)+1)).insertAdjacentHTML("beforeend", htmlStr);
        })

      }





      
    
    </script>
  </body>
</html>